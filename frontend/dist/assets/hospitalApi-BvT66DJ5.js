const o="http://localhost:4000";function a(){const t=localStorage.getItem("authToken");return t?{Authorization:`Bearer ${t}`}:{}}async function r(t,e){const n=await fetch(`${o}/api/hospital/patients/${t}/ehr`,{method:"POST",headers:{"Content-Type":"application/json",...a()},body:JSON.stringify(e)});if(!n.ok)throw new Error(`EHR upload failed: ${n.statusText}`);return n.json()}async function c(t,e){const n=await fetch(`${o}/api/hospital/patients/${t}/records`,{method:"POST",headers:{...a()},body:e});if(!n.ok)throw new Error(`File upload failed: ${n.statusText}`);return n.json()}async function p(){const t=await fetch(`${o}/api/hospital/patients`,{headers:{"Content-Type":"application/json",...a()}});if(!t.ok)throw new Error(`Failed to list patients: ${t.statusText}`);return t.json()}async function h(t){const e=await fetch(`${o}/api/hospital/patients`,{method:"POST",headers:{"Content-Type":"application/json",...a()},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to create patient: ${e.statusText}`);return e.json()}async function l(t,e=1,n=10){const i=new URL(`${o}/api/hospital/patients`);i.searchParams.set("q",t),i.searchParams.set("page",String(e)),i.searchParams.set("limit",String(n));const s=await fetch(String(i),{headers:{"Content-Type":"application/json",...a()}});if(!s.ok)throw new Error(`Patient search failed: ${s.statusText}`);return s.json()}async function f(t){const e=await fetch(`${o}/api/hospital/patients/${t}`,{headers:{"Content-Type":"application/json",...a()}});if(!e.ok)throw new Error(`Failed to fetch patient: ${e.statusText}`);return e.json()}async function d(t,e){const n=await fetch(`${o}/api/hospital/patients/${t}/appointments`,{method:"POST",headers:{"Content-Type":"application/json",...a()},body:JSON.stringify(e)});if(!n.ok)throw new Error(`Failed to create appointment: ${n.statusText}`);return n.json()}async function u(t,e){const n=await fetch(`${o}/api/hospital/patients/${t}/complaints`,{method:"POST",headers:{"Content-Type":"application/json",...a()},body:JSON.stringify(e)});if(!n.ok)throw new Error(`Failed to lodge complaint: ${n.statusText}`);return n.json()}async function y(t){const e=await fetch(`${o}/api/hospital/emergency/notify`,{method:"POST",headers:{"Content-Type":"application/json",...a()},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to send emergency notification: ${e.statusText}`);return e.json()}const w={postEHR:r,postRecordFile:c,fetchPatientProfile:f,listPatients:p,createPatient:h,searchPatients:l,createAppointment:d,lodgeComplaint:u,sendEmergencyNotification:y};export{w as h};
