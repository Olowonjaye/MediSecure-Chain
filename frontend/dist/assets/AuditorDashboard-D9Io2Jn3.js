import{i as l,a as o,j as e,f as m}from"./index-nTQIyIYe.js";function h(){const{user:a,logout:d}=l(),[r,i]=o.useState([]),[n,c]=o.useState(!0);return o.useEffect(()=>{(async()=>{try{const t=await m.get("/audit");i(Array.isArray(t.data)?t.data:[])}catch(t){console.warn("Failed to load audit logs",t.message||t)}finally{c(!1)}})()},[]),e.jsxs("div",{className:"p-6 min-h-screen bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"ðŸ•µï¸ Auditor Dashboard"}),e.jsx("button",{onClick:d,className:"bg-red-500 text-white px-3 py-1 rounded",children:"Logout"})]}),e.jsxs("p",{className:"mb-4",children:["Welcome, ",(a==null?void 0:a.name)||"Auditor",". Use this dashboard to review system logs and compliance reports."]}),e.jsxs("section",{className:"bg-white shadow rounded p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Audit Logs"}),n?e.jsx("p",{className:"text-gray-500",children:"Loading..."}):r.length===0?e.jsx("p",{className:"text-gray-500",children:"No audit entries yet."}):e.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-md p-2 text-sm",children:r.map(s=>e.jsxs("div",{className:"border-b py-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:s.type})," â€” ",s.message]}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(s.ts||s.createdAt||Date.now()).toLocaleString()})]},s.id||s.ts))})]})]})}export{h as default};
